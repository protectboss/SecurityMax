#include "stm32f1xx.h"
#include "lcd.h"
#include "tim.h"

const unsigned char  *point;


const unsigned char  LCD_init_cmd[LCD_COMMAND_NUMBER]=
{											

  0xe2, //软复位

	0x2c, //升压步聚1
	
	0x2e, //升压步聚2
	
	0x2f, //升压步聚3
	
	0x24, //粗调对比度，可设置范围0x20～0x27
	0x81, //微调对比度
	0x22, //微调对比度的值，可设置范围0x00～0x3f
	0xa2, //1/9 偏压比（bias）
	#if (LCD_DIS_CHINA_ROT == 180) 
	0xA1, //列扫描顺序：从左到右
	0xc0, //行扫描顺序：反序
	#else 
	0xA0, //列扫描顺序：从左到右
	0xc8, //行扫描顺序：反序
	#endif
	0xa6, //正显
	0x40, //起始行：第一行开始
	0xaf, //开显示
};


unsigned char  Character_Tab[1024]={
/*------------------------------------------------------------------------------
;  列行式，低位在前，0x0f,即为上面全部涂黑
;  宽×高（像素）: 128×64
------------------------------------------------------------------------------*/
//第一页
0x00,0x80,0x80,0x0C,0x1C,0x3C,0xD8,0xE0, 0xF8,0xFC,0xF8,0x48,0x48,0x48,0x48,0x48,
0x48,0xFC,0xFC,0xFC,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0xF8,0xF8,0xF0,0x10,0x10, 
0x10,0xF0,0xF2,0xD6,0x1E,0x1C,0x18,0xF0, 0xF0,0xD0,0x50,0x98,0x98,0x18,0x10,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x00,0x01,0x07,0x87,0xE6,0xFC,0x3F,0xF3, 0xEF,0xEF,0x2F,0xE4,0xE4,0x24,0x24,0xE4,
0xE4,0x2F,0xEF,0xFF,0xE0,0x20,0x00,0x00, 0x00,0x00,0x00,0xFF,0xFF,0x3F,0x01,0x41,
0x41,0xDF,0xDF,0x5F,0x49,0x49,0x49,0x5F, 0xDF,0xFF,0xE1,0x41,0x01,0x01,0x00,0x00,
0x00,0x00,0x70,0x70,0x70,0x70,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,

0x01,0x01,0x3B,0x7F,0x7F,0x27,0x60,0x3F, 0x3F,0x3F,0x20,0x3F,0x3F,0x20,0x20,0x3F,
0x3F,0x20,0x3F,0x3F,0x3F,0x30,0x30,0x00, 0x40,0x70,0x3F,0x4F,0x43,0x40,0x40,0x60, 
0x20,0x30,0x31,0x1F,0x1E,0x1C,0x1E,0x3F, 0x33,0x31,0x70,0x70,0x60,0x60,0x20,0x00,
0x00,0x00,0x70,0x70,0x70,0x70,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
//第二页
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,
0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80, 0x80,0x80,0x80,0x80,0x80,0x80,0x80,0x80,

0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01, 0x01,0x01,0x01,0x01,0x01,0x01,0x01,0x01,
//第三页
0x80,0x80,0x84,0x0C,0x3C,0x38,0x90,0xC0, 0x48,0xFC,0xF8,0x48,0x48,0x48,0x48,0x48,
0x48,0x48,0xF8,0xFC,0xFC,0x08,0x00,0x00, 0x00,0x00,0x00,0xF8,0xF8,0xF0,0x10,0x10, 
0x10,0xF0,0xF2,0xD6,0x1E,0x1C,0x18,0xF0, 0xF0,0xD0,0x50,0x98,0x98,0x18,0x10,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0xE0,0xF0,
0x30,0xF0,0xF0,0xE0,0x00,0xE0,0xF0,0x30, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,


0x80,0x81,0x83,0xC7,0xF7,0xFE,0x3F,0xE3, 0xC8,0x9F,0x0F,0xFC,0xFC,0xFC,0x04,0xFC,
0xFC,0xFC,0x8F,0xCF,0xFF,0x70,0x60,0x00, 0x00,0x00,0x00,0xFF,0xFF,0x3F,0x01,0x41,
0x41,0xDF,0xDF,0x5F,0x49,0x49,0x49,0x5F, 0xDF,0xFF,0xE1,0x41,0x01,0x01,0x00,0x00,
0x00,0x00,0x70,0x70,0x70,0x70,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x0F,0x1F,
0x18,0x1F,0xFF,0xFF,0xFF,0xF7,0x71,0xF0, 0xF0,0xE0,0x00,0x00,0x00,0x00,0x00,0x00,


0x00,0x01,0x3F,0x3F,0x3F,0x20,0x60,0x20, 0x23,0x27,0x27,0x3F,0x3F,0x3F,0x20,0x3F,
0x3F,0x3F,0x23,0x21,0x30,0x30,0x20,0x00, 0x40,0x70,0x3F,0x4F,0x43,0x40,0x40,0x60,
0x20,0x30,0x31,0x1F,0x1E,0x1C,0x1E,0x3F, 0x33,0x31,0x70,0x70,0x60,0x60,0x20,0x00,
0x00,0x00,0x70,0x70,0x70,0x70,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x1C,0x1F,0x07,0x00,0x0F,0x1F,0x1C,0x1F, 0x1F,0x0F,0x00,0x00,0x00,0x00,0x00,0x00,

};



const unsigned char  Number_Zero_Tab[72]={
0x00,0x00,0xC0,0xE0,0xE0,0x60,0x60,0xE0, 0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x78,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00, 0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x03,0x0F,0x1F,0x1C,0x18,0x18,0x1C, 0x1F,0x0F,0x03,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

const unsigned char  Number_One_Tab[72]={
0x00,0x00,0xC0,0xC0,0xC0,0xE0,0xE0,0xE0, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x10,0x10,0x18,0x1F,0x1F,0x1F, 0x10,0x10,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};

const unsigned char  Number_Two_Tab[72]={
0x00,0x80,0xC0,0xE0,0x60,0x20,0x60,0x60, 0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x00,0x03,0x07,0x07,0x80,0xC0,0xE0,0x78, 0x3F,0x1F,0x07,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x10,0x1C,0x1E,0x1F,0x1B,0x19,0x18,0x18, 0x18,0x1E,0x1E,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
	
const unsigned char  Number_Three_Tab[72]={
0x00,0x80,0xC0,0xE0,0x60,0x20,0x60,0xE0, 0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x00,0x01,0x03,0x03,0x10,0x10,0x38,0x3F, 0xFF,0xE7,0xC3,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x00,0x0E,0x1F,0x1F,0x18,0x10,0x18,0x18, 0x1F,0x0F,0x07,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
	
const unsigned char  Number_Four_Tab[72]={
0x00,0x00,0x00,0x00,0x00,0x80,0xC0,0xE0, 0xE0,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0xC0,0xE0,0xF0,0xBC,0x8E,0x87,0xFF,0xFF, 0xFF,0x80,0x80,0x80,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x10,0x10,0x1F,0x1F, 0x1F,0x18,0x10,0x10,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
	
const unsigned char  Number_Five_Tab[72]={
0x00,0x00,0xE0,0xE0,0x60,0x60,0x60,0x60, 0x60,0x60,0x60,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 
0x00,0x18,0x3F,0x3F,0x18,0x08,0x08,0x18, 0xF8,0xF0,0xE0,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0F,0x1F,0x1F,0x18,0x10,0x18,0x18, 0x1F,0x0F,0x07,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
		
const unsigned char  Number_Six_Tab[72]={
0x00,0x00,0x80,0xC0,0xE0,0x60,0x20,0xE0,0xE0,0xE0,0xC0,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xF8,0xFF,0xFF,0xFF,0x18,0x18,0x08,0x18,
0xF9,0xF9,0xF0,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x07,0x0F,0x1F,0x1C,0x18,0x10,0x18,0x1F,0x0F,0x07,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
};
		
const unsigned char  Number_Seven_Tab[72]={
0x00,0xE0,0xE0,0x60,0x60,0x60,0x60,0x60, 0xE0,0xE0,0x60,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x01,0x01,0x00,0xC0,0xF0,0xFC,0x3F, 0x07,0x01,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x0C,0x1F,0x1F,0x1F,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
		
const unsigned char  Number_Eight_Tab[72]={
0x00,0x80,0xE0,0xE0,0x60,0x20,0x20,0x60, 0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0xC7,0xEF,0x7F,0x3C,0x38,0x30,0x78, 0xFF,0xEF,0xC7,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x03,0x0F,0x1F,0x1C,0x18,0x10,0x10,0x18, 0x1F,0x0F,0x07,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
		
const unsigned char  Number_Nine_Tab[72]={
0x00,0x80,0xE0,0xE0,0x60,0x20,0x60,0x60, 0xE0,0xC0,0x80,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x0E,0x3F,0x7F,0x79,0x60,0x40,0x60,0x70, 0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x0C,0x1E,0x1E,0x1C,0x10,0x18,0x1E, 0x0F,0x07,0x01,0x00,0x00,0x00,0x00,0x00, 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};
			
/*************SPI配置函数*******************
SCL空闲时低电平，第一个上升沿采样
模拟SPI
******************************************/

/**************************SPI模块发送函数************************************************

 *************************************************************************/
void SPI_SendByte(unsigned  char byte)				//向SPI接口写一个8位数据
{ 
  unsigned char counter;   
  for(counter=0;counter<8;counter++)
  { 
    SPI_SCK_0;	  
    if((byte&0x80)==0)
    {
      SPI_SDA_0;
    }
    else SPI_SDA_1;
    byte=byte<<1;	
    SPI_SCK_1;			
  }
  
	SPI_SCK_0;
} 

void LCD_send_cmd(unsigned char o_command)
  {
    SPI_DC_0;
    SPI_CS_0;
    SPI_SendByte(o_command);
    SPI_CS_1;
   
    //SPI_DC_1;
  }
	
  //向液晶屏写一个8位数据
void LCD_send_data(unsigned  char o_data)
  { 
    SPI_DC_1;
    SPI_CS_0;
    SPI_SendByte(o_data);
    SPI_CS_1;
    
   }


void Column_set(unsigned char column)
  {
	column+=LCD_COLUMN_OFFSET;
    LCD_send_cmd(0x10|(column>>4));    //设置列地址高位
    LCD_send_cmd(0x00|(column&0x0f));   //设置列地址低位  
    	 
  }
	
void Page_set(unsigned char page)
  {
    LCD_send_cmd(0xb0+(page&0X07));
  }
	
	
void LCD_clear(void)
  {
    unsigned char page,column;
    for(page=0;page<LCD_PAGE_NUMBER;page++)             //page loop
      { 
          Page_set(page);
          Column_set(0);	  
          for(column=0;column<LCD_COLUMN_NUMBER;column++)	//column loop
            {
              LCD_send_data(0x00);
            }
      }
  }
	
void LCD_full(void)
  {
    unsigned char page,column;
    for(page=0;page<LCD_PAGE_NUMBER;page++)             //page loop
      {
        Page_set(page);
        Column_set(0);	  
	for(column=0;column<LCD_COLUMN_NUMBER;column++)	//column loop
          {
            LCD_send_data(0xff);
          }
      }
  }
	
void LCD_init(void)
  {
    unsigned char i;
    for(i=0;i<LCD_COMMAND_NUMBER;i++)
      {
        LCD_send_cmd(LCD_init_cmd[i]);
      }
  }

void Picture_display(const unsigned char *ptr_pic)
  {
    unsigned char page,column;
    for(page=0;page<(LCD_LINE_NUMBER/8);page++)        //page loop
      { 
	Page_set(page);
	Column_set(0);	  
	for(column=0;column<LCD_COLUMN_NUMBER;column++)	//column loop
          {
            LCD_send_data(*ptr_pic++);
          }
      }
  }
	
void Picture_ReverseDisplay(const unsigned char *ptr_pic)
{
    unsigned char page,column,data;
    for(page=0;page<(LCD_LINE_NUMBER/8);page++)        //page loop
      { 
	Page_set(page);
	Column_set(0);	  
	for(column=0;column<LCD_COLUMN_NUMBER;column++)	//column loop
          {
            data=*ptr_pic++;
            data=~data;
            LCD_send_data(data);
          }
      }
  }

	void Temperature_Data_Output(int Temperaure)
	{
		  int Unit_Digit,tens_digit;
	    unsigned char page,column;
		  int number1=0,number2=0;
		tens_digit=Temperaure/10;
		Unit_Digit=Temperaure%10;
    for(page=0;page<3;page++)        //page loop
      { 
	Page_set(page);
	Column_set(60);	  
	for(column=0;column<24;column++)	//column loop
          {
						switch(tens_digit)
						{
							case 1 :LCD_send_data(Number_One_Tab[number1++]);break;
							case 2 :LCD_send_data(Number_Two_Tab[number1++]);break;
							case 3 :LCD_send_data(Number_Three_Tab[number1++]);break;
							case 4 :LCD_send_data(Number_Four_Tab[number1++]);break;
							case 5 :LCD_send_data(Number_Five_Tab[number1++]);break;
							case 6 :LCD_send_data(Number_Six_Tab[number1++]);break;
							case 7 :LCD_send_data(Number_Seven_Tab[number1++]);break;
							case 8 :LCD_send_data(Number_Eight_Tab[number1++]);break;
							case 9 :LCD_send_data(Number_Nine_Tab[number1++]);break;
						}
          }
		for(column=0;column<24;column++)	//column loop
          {
          	switch(Unit_Digit)
						{
							case 0 :LCD_send_data(Number_Zero_Tab[number2++]);break;
							case 1 :LCD_send_data(Number_One_Tab[number2++]);break;
							case 2 :LCD_send_data(Number_Two_Tab[number2++]);break;
							case 3 :LCD_send_data(Number_Three_Tab[number2++]);break;
							case 4 :LCD_send_data(Number_Four_Tab[number2++]);break;
							case 5 :LCD_send_data(Number_Five_Tab[number2++]);break;
							case 6 :LCD_send_data(Number_Six_Tab[number2++]);break;
							case 7 :LCD_send_data(Number_Seven_Tab[number2++]);break;
							case 8 :LCD_send_data(Number_Eight_Tab[number2++]);break;
							case 9 :LCD_send_data(Number_Nine_Tab[number2++]);break;
						}
          }
      }
	}
	
		void Humidity_Data_Output(int Humidity)
	{
		  int Unit_Digit,tens_digit;
	    unsigned char page,column;
		  int number1=0,number2=0;
		tens_digit=Humidity/10;
		Unit_Digit=Humidity%10;
    for(page=5;page<8;page++)        //page loop
      { 
	      Page_set(page);
	      Column_set(60);	  
	      for(column=0;column<24;column++)	//column loop
          {
						switch(tens_digit)
						{
							case 1 :LCD_send_data(Number_One_Tab[number1++]);break;
							case 2 :LCD_send_data(Number_Two_Tab[number1++]);break;
							case 3 :LCD_send_data(Number_Three_Tab[number1++]);break;
							case 4 :LCD_send_data(Number_Four_Tab[number1++]);break;
							case 5 :LCD_send_data(Number_Five_Tab[number1++]);break;
							case 6 :LCD_send_data(Number_Six_Tab[number1++]);break;
							case 7 :LCD_send_data(Number_Seven_Tab[number1++]);break;
							case 8 :LCD_send_data(Number_Eight_Tab[number1++]);break;
							case 9 :LCD_send_data(Number_Nine_Tab[number1++]);break;
						}
          }
		for(column=0;column<24;column++)	//column loop
          {
          	switch(Unit_Digit)
						{
							case 0 :LCD_send_data(Number_Zero_Tab[number2++]);break;
							case 1 :LCD_send_data(Number_One_Tab[number2++]);break;
							case 2 :LCD_send_data(Number_Two_Tab[number2++]);break;
							case 3 :LCD_send_data(Number_Three_Tab[number2++]);break;
							case 4 :LCD_send_data(Number_Four_Tab[number2++]);break;
							case 5 :LCD_send_data(Number_Five_Tab[number2++]);break;
							case 6 :LCD_send_data(Number_Six_Tab[number2++]);break;
							case 7 :LCD_send_data(Number_Seven_Tab[number2++]);break;
							case 8 :LCD_send_data(Number_Eight_Tab[number2++]);break;
							case 9 :LCD_send_data(Number_Nine_Tab[number2++]);break;
						}
          }
      }
	}
	
	void LCD_12864_Init(void)
	{
	point= &Character_Tab[0];
	SPI_SCK_0;
	SPI_RST_0;
	HAL_TIM_PWM_Start(&htim3,TIM_CHANNEL_3);
  __HAL_TIM_SetCompare(&htim3,TIM_CHANNEL_3,500);
//	BL_1;
	HAL_Delay(1000);
	SPI_RST_1;
	HAL_Delay(1000);
	LCD_init();
	LCD_full();
	HAL_Delay(500);
	LCD_clear();
	Picture_display(point);
	}
